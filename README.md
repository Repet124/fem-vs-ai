# Fem Vs Ai

Программная реализация расчёта продольных усилий в шарнирных стержневых системах, с помощью метода конечных элементов (МКЭ) и нейронных сетей. Позволяет произвести анализ и сравнение данных методик расчёта

## Дисклеймер

- Данная программа является частью исследования о возможности применения ИИ при расчёте строительных конструкций. Она не является полноценным расчётным инструментом, а служила лишь для экспериментальных исследований.

- При разработке данной программы не ставилось задачи (парадокс) получить полноценную программу. Цели исследования были достигнуты при раздельной реализации обособленных компонентов (редактор, модуль обучения, модуль подготовки обучающих данных). Также разные компоненты разрабатывались в разное время и с разным представлением о дальнейшем развитии проекта. Объединение и функционирование этих модулей совместно, в виде единого программного интерфейса, реализовано исключительно по личному желанию автора и не преследовало каких либо практических целей. По этим причинам код (а вернее общая архитектура проекта) имеет довольно низкое качество.

- Исходя их целей проекта, полноценного тестирования не проводилось и вероятнее всего, имеются различные баги.

- Исходя из целей проекта, не предусмотрены проверки корректности расчётной схемы и пользователю необходимо самостоятельно проконтролировать соответствие всех требований (см. Требования и ограничения) для расчётной схемы. В противном случае функционирования программы прервётся ошибкой.

## Установка

### Windows

Скачать [exe-файл](https://github.com/Repet124/fem-vs-ai/releases/download/v1.0.0/fem-vs-ai-1.0.0.Setup.exe) и запустить от имени администратора

### Linux

Скачать [deb-пакет](https://github.com/Repet124/fem-vs-ai/releases/download/v1.0.0/fem-vs-ai_1.0.0_amd64.deb) и запустить команду:

```
sudo apt install <путь к файлу>
```

## Требования и ограничения

Схема должна:
- Быть геометрически неизменяемой
- Состоять из трёх и более стержней
- Не содержать стержней, имеющих узлы не принадлежащие другим стержням (стержни со свободным концом)
- Содержать нагрузки
- Содержать опоры ограничивающие 3-стпени свободы на плоскости (минимум одна шарнирно-неподвижная и одна шарнирно-подвижная опоры или минимум две шарнирно-неподвижных опоры)

Следует учитывать, что все узлы в схеме являются идеальными шарнирами. 

Примеры корректных расчётных схем:

![image](https://github.com/Repet124/fem-vs-ai/assets/36656195/6afc37bc-a89e-4553-8b99-82cd35081be9)
![image](https://github.com/Repet124/fem-vs-ai/assets/36656195/8ffe565a-c170-43fc-86cf-ff698c8102ac)

## Интерфейс

Интерфейс программы имеет следующие области:

![main](https://github.com/Repet124/fem-vs-ai/assets/36656195/ae03c72f-4d39-41a1-90ea-47e27692fb09)

1. Область просмотра - служит для создания/редактирования расчётной схемы и отображения результата
2. Меню параметров обучения - содержит различные настройки влияющие на обучения нейронной сети
3. Список горячих клавиш
4. Блок команд
5. Область отчёта - здесь формируется отчёт отклонений работы нейросети от результата работы МКЭ
6. Строка активной команды - отображает текущую активную команду редактора
7. Область уведомлений - отображает различные информационные сообщения

## Функционал

### Управление

- **Создание проекта**

	В блоке команд вызвать команду "Создать проект", указать имя создаваемого файла. Создаёт файл с пустым проектом
- **Загрузка проекта**

	В блоке команд вызвать команду "Загрузить проект", выбрать файл с существующим проектом.
- **Сохранение проекта**

	В блоке команд вызвать команду "Сохранить проект".

### Навигация

- **Панорамирование**

	Осуществляется движением мыши, с зажатым колёсиком, в области редактора
- **Зуммирование**

	Осуществляется вращением колёсика мыши в области редактора.

- **Выделение**
	В области редактора, при активной команде "Выделение" нажать ЛКМ на необходимом элементе схемы. Если выделение не является активной командой, тогда необходимо нажать `Esc` для сброса. Выделены могут быть Узлы, Стержни, Силы. Для сброса выделения также нажать `Esc`.

### Создание

- **Узлы**

	- Вызвать команду `Создать узел` В области редактора курсор изменит свой вид.
	- ЛКМ в месте редактора где необходимо добавить узел.
	- Для выхода из режима нажать `Esc`.

	![1](https://github.com/Repet124/fem-vs-ai/assets/36656195/ba3d43bd-ef84-44d8-828d-7b225f85bbb2)

- **Стержни**

	- Выделить 2 узла, которые должны быть соединены стержнем.
	- Вызвать команду `Создать стержень`

	![2](https://github.com/Repet124/fem-vs-ai/assets/36656195/3cdf769e-ec08-4efd-9dc7-8b8569a155d9)

- **Опоры**

	- Выделить узлы для закрепления
	- Вызвать команду `Добавление / удаление опор`. Первое применение команды(на свободном узле) создаёт шарнирно-подвижную опору
	- Второй вызов создаёт шарнирно-неподвижную опору
	- Третий вывоз приводит узел в изначальное состояние

	![3](https://github.com/Repet124/fem-vs-ai/assets/36656195/4b183953-fd8e-4015-8717-ae534eeee4b5)

- **Силы**

	- Выделить узлы, к которым необходимо приложить силу.
	- Вызвать команду `Добавление сосредоточенной силы`. Будут созданы силы с компонентами по умолчанию x: 0 кН, y: -10 кН.

	![4](https://github.com/Repet124/fem-vs-ai/assets/36656195/5e2ee039-5b17-4e3f-9506-3b5a5d80032f)

### Редактирование

- **Перемещение узлов**
	- Выделить узел
	- Вызвать команду `Редактировать компоненты узла / силы`. Появится палитра редактирования координат
	- Изменить координаты узла на требуемые
	- Нажать `Enter`

	![5](https://github.com/Repet124/fem-vs-ai/assets/36656195/8897e717-d51a-40b4-b49e-3f3f6526d261)

- **Разделение стержней**

	Разбивает стержень на несколько равных частей

	- Выделить стержни для разбиения
	- Вызвать команду `Разделить стержень`. Отобразится предпросмотр разбиения
	- Ввести число, равное количеству частей, от 2 до 9
	- Нажать `Enter`

	![6](https://github.com/Repet124/fem-vs-ai/assets/36656195/f502a5b7-f784-4263-ad3e-c58e3c5d1fcf)

- **Изменение компонент силы**

	- Выделить силу для редактирования
	- Вызвать команду `Редактировать компоненты узла / силы`. Появится палитра редактирования компонент силы
	- Ввести требуемые значения в кН
	- Нажать `Enter`

	![7](https://github.com/Repet124/fem-vs-ai/assets/36656195/1a677762-965e-4d46-84b1-78c56d7d7c76)

- **Удаление**

	- Выделить необходимый элемент
	- Вызвать команду `Удалить выделенное`.

	![8](https://github.com/Repet124/fem-vs-ai/assets/36656195/879712fa-5da0-4be1-8fd2-36e28e2ad7ce)

- **Очистка проекта**

	В блоке команд вызвать команду "Очистить". Данная команда удалит всю расчётную схему

### Обучение

1. Задать настройки обучения в соответствующем меню:
	- *Максимальное усилие* - [Параметр датасета] - Модуль максимального значения компоненты силы, которое может присутствовать в датасете
	- *Коэффициент масштабности* - [Параметр обучения] - Артефакт методологии построения нейросети, подбирается экспериментально. Оптимальное начальное значение - 1,6
	- *Размер пакета* - [Параметр обучения]
	- *Количество эпох* - [Параметр обучения]
	- *Ограничение длины датасета при обучении* - [Параметр обучения] - При обучении используется только указанное количество элементов. При значении 0 будет использован весь датасет
	- *Длина датасета для генерации* - [Параметр датасета]
	- *Процессор* - [Параметр обучения] - Выбор производить вычисления либо на центральном процессоре, либо на видеокарте. Для небольших схем рекомендуется использовать CPU

2. Запустить команду `Сформировать датасет`
3. В панели уведомлений дождаться сообщения "Датасет сформирован"
4. Запустить команду `Обучение`
5. В панели уведомлений дождаться сообщения "Обучение завершено успешно"

### Расчёт

Для расчёта методом конечных элементов вызвать команду `Расчёт. FEM`

Для расчёта с помощью нейронной сети вызвать команду `Расчёт. AI`. Нейросеть должна быть предварительно обучена.

![9](https://github.com/Repet124/fem-vs-ai/assets/36656195/2d6063ab-6872-4ba8-80f2-0f875ae72f98)

### Анализ результатов расчёта

После расчёта схемы с помощью двух методик, на панели "Отчёт" будут сформированы данный об относительных и абсолютных отклонения значений усилий предсказанных ИИ, от данных полученных с помощью МКЭ.
